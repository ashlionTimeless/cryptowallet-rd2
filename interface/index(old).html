
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Album example Â· Bootstrap v5.0</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link href="./styles/index.css" rel="stylesheet" crossorigin="anonymous">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

    
  </head>
  <body>
    
<header>
    <div class="px-3 py-2 bg-dark text-white">
      <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
          <a href="/" class="d-flex align-items-center my-2 my-lg-0 me-lg-auto text-white text-decoration-none">
            <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
          </a>

          <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">
            <li class="currency_container" data-value="ETH">
              <a href="#" class="nav-link text-secondary" data-value="ETH">
                <img src="./assets/eth-logo.svg" width="20" height="20">
                ETH
              </a>
            </li>
            <li class="currency_container" data-value="ERC20">
              <a href="#" class="nav-link text-white">
                <img src="./assets/eth-logo.svg" width="20" height="20">
                ERC20
              </a>
            </li>
            <li class="currency_container" data-value="BTC">
              <a href="#" class="nav-link text-white">
                <img src="./assets/btc.png" width="20" height="20">
                BTC
              </a>
            </li>
            <li class="currency_container" data-value="LTC" style="display:block">
              <a href="#" class="nav-link text-white">
                <img src="./assets/ltc.webp" width="20" height="20">
                LTC
              </a>
            </li>
            <li class="currency_container" data-value="BNB">
              <a href="#" class="nav-link text-white">
                <img src="./assets/bnb.png" width="20" height="20">
                BNB
              </a>
            </li>
            <li class="currency_container" data-value="DOT">
              <a href="#" class="nav-link text-white">
                <img src="./assets/dot.jpg" width="20" height="20">
                DOT
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="px-3 py-2 border-bottom mb-3">
      <div class="container d-flex flex-wrap justify-content-center">
        <form class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto">
          <input type="recovery" class="form-control" placeholder="Generate Recovery Phrase" aria-label="Search">
        </form>

        <div class="text-end">
<!--           <button type="button" class="btn btn-light text-dark me-2">Login</button>
          <button type="button" class="btn btn-primary">Sign-up</button> -->
        </div>
      </div>
    </div>
  </header>

<main>

  <section id="main" class="py-5 text-center container">
    <div class="row py-lg-5">
      <div id="wallet_container" class="col-lg-6 col-md-8 mx-auto">
        <div id="currency_container" class="col-lg-12 block">
          <i id="main_currency" class="currency_symbol"></i>
        </div>

        <div id="balance_container" class="col-lg-12 block">
          <p> <b>Balance:</b> <i id="balance"></i> <i class="currency_symbol"></i></p>
        </div>
        
        <div id="address_container" class="col-lg-12 block">
          <p> <b>Address:</b> <i id="address"></i></p>
        </div>
        
        <div id="transfer_block" class="col-lg-12  block">
          <div class="col-lg-12 justify-content-center container row ">
            <div class="col-lg-6">
              <p><b>Receiver:</b></p>
              <input placeholder="address" name="address" id="transfer_address">  
            </div>
            <div class="col-lg-6">
              <p><b>Amount:</b></p>
              <input placeholder="amount" name="amount" id="transfer_amount" type="number"> 
            </div>
            
          </div>
          <div id="btn_container" class="col-lg-12 block">
            <button id="send_button" class="btn btn-primary col-sm-12">SEND</button>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="text-muted py-5">
  <div class="container">
    
  </div>
</footer>

    <script>

      const DEFAULT_CURRENCY = "ETH";
      let default_balance = 999.9;
      let default_address = "0x03170A61fA4546CEA276337470AdB5E8f6b52432";
      let current_currency=DEFAULT_CURRENCY;

      // Application Methods
      prepareUI();
      function getCurrency(){
        return current_currency;
      }
      function changeCurrency(currency){
        setCurrency(currency);
        renderUI();
      }
      function setCurrency(currency){
        current_currency = currency;
      }
      // END OF APPLICATION METHODS


      // Blockchain Service Methods
      function getBalance(){
        return default_balance;
      }

      function getAddress(){
        return default_address;
      }
      //
      function sendCurrency(){
        let _address = document.getElementById("transfer_address").value;
        console.log(_address);
        let _amount=document.getElementById("transfer_amount").value;
        let currency = getCurrency();
        console.log(currency)
        let result = "Sending "+_amount+" "+currency+" to "+_address;
        alert(result);
      }
      // END OF BLOCKCHAIN SERVICE METHODS


      // START OF WALLET UI METHODS
      function prepareUI(){
        console.log("walletUi prepareUi")
        renderUI();
        setListeners()
      }
      // END OF WALLET UI METHODS

      // START OF RENDERER METHODS
      function renderUI(){
        console.log("renderer renderUi")
        renderCurrency();
        renderBalance();
        renderAddress();
      }
      function renderCurrency(){
        console.log("renderer renderCurrency")
        let currency = getCurrency();
        let elements = document.getElementsByClassName("currency_symbol");
        //for loop
        for(let i=0; i<elements.length;i++){
          let element = elements[i];
          element.innerHTML=currency;
        }
      }

      function renderBalance(){
        let balance = getBalance();
        let element = document.getElementById("balance");
        element.innerHTML=balance;
      }

      function renderAddress(){
        let address = getAddress();
        let element = document.getElementById("address");
        element.innerHTML=address;
      }
      // END OF RENDERER METHODS

      // START OF LISTENER MANAGER METHODS
      function setListeners(){
        setChangeCurrencyListener();
        setSendCurrencyListener();
      }

      function setChangeCurrencyListener(){
        let elements = document.getElementsByClassName("currency_container");
        for(let i = 0;i<elements.length; i++){
          let element = elements[i];
          element.addEventListener("click",(event)=>{
            let element = event.target.parentNode;
            let currency = element.getAttribute("data-value");
            changeCurrency(currency);
          });
        }
      }

      function setSendCurrencyListener(){
        document.getElementById("send_button").addEventListener("click",(event)=>{
          sendCurrency();
        })
      }
      // END OF LISTENER MANAGER METHODS

    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
      
  </body>
</html>
